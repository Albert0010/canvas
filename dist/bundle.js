(()=>{"use strict";var e={844:(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0});const i=s(553);s(812);const c=()=>{(0,i.isLimitPassed)(i.circles)&&(i.canvas.removeEventListener("click",i.handleClick),i.canvas.style.cursor="not-allowed"),requestAnimationFrame(c),i.ctx&&i.ctx.clearRect(0,0,i.canvas.width,i.canvas.height),i.circles.forEach((e=>{e.update(i.circles)}))};c()},812:(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0});const i=s(553);i.canvas.addEventListener("click",i.handleClick),i.destinies.forEach((({element:e,click:t})=>{null==e||e.addEventListener("click",t)}))},179:(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createCircle=void 0;const i=s(553),c=s(553);class n{constructor({x:e,y:t,radius:s,color:n,mass:a}){this.x=e,this.y=t,this.radius=s,this.color=n,this.velocityY=0,this.gravity=c.gravity,this.energy=i.canvas.height-t,this.mass=a}draw(){const{x:e,y:t,radius:s,color:c}=this;i.ctx&&(i.ctx.beginPath(),i.ctx.arc(e,t,s,0,2*Math.PI),i.ctx.fillStyle=c,i.ctx.fill(),i.ctx.closePath())}update(e){this.velocityY<0&&(this.energy-=c.gravity),this.velocityY+=this.gravity,this.y+=this.velocityY,this.y+this.radius>=i.canvas.height&&(this.energy-=this.mass*this.velocityY,this.velocityY*=-1/this.mass-.5,this.y=i.canvas.height-this.radius,this.y-=10,this.energy<=0&&(this.velocityY=0,this.y=i.canvas.height-this.radius)),this.handleCollisions(e),this.draw()}handleCollisions(e){e.forEach((e=>{if(e!==this){const t=e.x-this.x,s=e.y-this.y,i=Math.sqrt(t*t+s*s);if(i<this.radius+e.radius){this.energy-=this.velocityY*(50*this.mass/100),console.log(this.energy);const c=t/i,n=s/i,a=this.radius+e.radius-i,r=a*c*.5,o=a*n*.5;this.x-=r,this.y-=o,e.x+=r,e.y+=o;const l=(e.velocityY-this.velocityY)*c+(e.velocityY-this.velocityY)*n;if(l<0){const t=2*l/(this.mass+this.mass);this.velocityY+=t*this.mass*n,e.velocityY-=t*this.mass*n}}}}))}}t.createCircle=function({x:e,y:t,radius:s,color:i,mass:c}){return new n({x:e,y:t,radius:s,color:i,mass:c})}},553:(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.destinies=t.rubber=t.air=t.iron=t.isLimitPassed=t.circles=t.mass=t.gravity=t.handleClick=t.ctx=t.canvas=void 0;const i=s(179);t.canvas=document.getElementById("myCanvas"),t.ctx=t.canvas.getContext("2d"),t.handleClick=({clientX:e,clientY:s})=>{const c=e-t.canvas.offsetLeft,n=s-t.canvas.offsetTop,a=`rgb(${255*Math.random()},${255*Math.random()},${255*Math.random()})`,r=function(e){switch(document.getElementsByClassName("chosen")[0].id){case"iron":default:return 7;case"rubber":return 3}}(),o=document.getElementById("count");o&&(o.innerText=""+(+o.innerText+1)),t.circles.push((0,i.createCircle)({x:c,y:n,radius:20,color:a,mass:r}))},t.gravity=.5,t.mass=7,t.circles=[],t.isLimitPassed=e=>e.length>=15,t.iron=document.getElementById("iron"),t.air=document.getElementById("air"),t.rubber=document.getElementById("rubber");const c=function(){var e,t,s,i;const c=document.getElementsByClassName("chosen");console.log({elements:c}),null===(t=null===(e=c[0])||void 0===e?void 0:e.classList)||void 0===t||t.remove("chosen"),null===(i=null===(s=null==this?void 0:this.element)||void 0===s?void 0:s.classList)||void 0===i||i.add("chosen")};t.destinies=[{element:t.iron,click:()=>{}},{element:t.air,click:()=>{}},{element:t.rubber,click:()=>{}}],t.destinies=t.destinies.map((e=>Object.assign(Object.assign({},e),{click:c.bind(e)})))}},t={};!function s(i){var c=t[i];if(void 0!==c)return c.exports;var n=t[i]={exports:{}};return e[i](n,n.exports,s),n.exports}(844)})();